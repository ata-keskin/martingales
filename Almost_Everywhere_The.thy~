theory Almost_Everywhere_The
  imports "HOL-Analysis.Measure_Space"
begin

fun ae_eq :: "('a measure * ('a \<Rightarrow> 'b)) \<Rightarrow> ('a measure * ('a \<Rightarrow> 'b)) \<Rightarrow> bool" where 
  ae_eq: "ae_eq (M, f) (N, g) = ((AE x in M. f x = g x) \<and> (AE x in N. f x = g x))"

quotient_type ('a, 'b) ae_fun = "('a measure * ('a \<Rightarrow> 'b))" / ae_eq

end