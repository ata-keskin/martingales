%
\begin{isabellebody}%
\setisabellecontext{Example{\isacharunderscore}{\kern0pt}Coin{\isacharunderscore}{\kern0pt}Toss}%
%
\isadelimtheory
\isanewline
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Example{\isacharunderscore}{\kern0pt}Coin{\isacharunderscore}{\kern0pt}Toss\isanewline
\ \ \isakeyword{imports}\ Martingale\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Probability{\isachardot}{\kern0pt}Stream{\isacharunderscore}{\kern0pt}Space{\isachardoublequoteclose}\ {\isachardoublequoteopen}HOL{\isacharminus}{\kern0pt}Probability{\isachardot}{\kern0pt}Probability{\isacharunderscore}{\kern0pt}Mass{\isacharunderscore}{\kern0pt}Function{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Example: Coin Toss%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
We consider a probability space consisting of infinite sequences of coin tosses.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}real\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}bool\ stream{\isacharparenright}{\kern0pt}\ measure{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}bernoulli{\isacharunderscore}{\kern0pt}stream\ p\ {\isacharequal}{\kern0pt}\ stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ space{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ UNIV{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def\ space{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We define the fortune of the player at time \isa{n} to be the number of heads minus number of tails.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ fortune\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ real{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fortune\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}s{\isachardot}{\kern0pt}\ {\isasymSum}b\ {\isasymleftarrow}\ stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ s{\isachardot}{\kern0pt}\ if\ b\ then\ {\isadigit{1}}\ else\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ toss\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ real{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}toss\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}s{\isachardot}{\kern0pt}\ if\ snth\ s\ n\ then\ {\isadigit{1}}\ else\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ toss{\isacharunderscore}{\kern0pt}indicator{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}toss\ n\ {\isacharequal}{\kern0pt}\ indicator\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ indicator\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymnot}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ toss{\isacharunderscore}{\kern0pt}def\ indicator{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ range{\isacharunderscore}{\kern0pt}toss{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range\ {\isacharparenleft}{\kern0pt}toss\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sconst\ True\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}sconst\ False\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ x\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isasymnot}x\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ toss{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ vimage{\isacharunderscore}{\kern0pt}toss{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}toss\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ {\isadigit{1}}\ {\isasymin}\ A\ then\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}if\ {\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isasymin}\ A\ then\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymnot}s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ vimage{\isacharunderscore}{\kern0pt}def\ toss{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fortune\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ fortune\ n\ s\ {\isacharplus}{\kern0pt}\ toss\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fortune{\isacharunderscore}{\kern0pt}def\ toss{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fortune\ n\ s\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymSum}i\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ toss\ i\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ arbitrary{\isacharcolon}{\kern0pt}\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fortune{\isacharunderscore}{\kern0pt}def\ toss{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ fortune{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}bound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}norm\ {\isacharparenleft}{\kern0pt}fortune\ n\ s{\isacharparenright}{\kern0pt}\ {\isasymle}\ Suc\ n{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ fortune{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}sum\ toss{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Our definition of \isa{bernoulli{\isacharunderscore}{\kern0pt}stream} constitutes a probability space.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{interpretation}\isamarkupfalse%
\ prob{\isacharunderscore}{\kern0pt}space\ {\isachardoublequoteopen}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf{\isachardot}{\kern0pt}prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}axioms\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}toss{\isacharunderscore}{\kern0pt}filtration\ p\ {\isasymequiv}\ nat{\isacharunderscore}{\kern0pt}natural{\isacharunderscore}{\kern0pt}filtration\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ toss{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The stochastic process \isa{toss} is adapted to the filtration it generates.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{interpretation}\isamarkupfalse%
\ toss{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process\ {\isachardoublequoteopen}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}natural{\isacharunderscore}{\kern0pt}filtration\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ toss{\isachardoublequoteclose}\ toss\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nat{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isachardot}{\kern0pt}intro\ stochastic{\isacharunderscore}{\kern0pt}process{\isachardot}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isacharunderscore}{\kern0pt}natural{\isacharunderscore}{\kern0pt}filtration{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}unfold{\isacharunderscore}{\kern0pt}locales{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ toss{\isacharunderscore}{\kern0pt}def\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Similarly, the stochastic process \isa{fortune} is adapted to the filtration generated by the tosses.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{interpretation}\isamarkupfalse%
\ fortune{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isacharunderscore}{\kern0pt}linorder\ {\isachardoublequoteopen}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}natural{\isacharunderscore}{\kern0pt}filtration\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ toss{\isachardoublequoteclose}\ fortune\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isacharunderscore}{\kern0pt}linorder\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss{\isacharunderscore}{\kern0pt}filtration\ p{\isacharparenright}{\kern0pt}\ fortune{\isachardoublequoteclose}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}sum\ \ \ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ nat{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isacharunderscore}{\kern0pt}linorder{\isachardot}{\kern0pt}intro\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isacharunderscore}{\kern0pt}linorder{\isachardot}{\kern0pt}intro\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}intro\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}adapted{\isacharunderscore}{\kern0pt}process{\isachardot}{\kern0pt}intro\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ toss{\isachardot}{\kern0pt}partial{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}adapted{\isacharbrackleft}{\kern0pt}folded\ atMost{\isacharunderscore}{\kern0pt}atLeast{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ intro{\isacharunderscore}{\kern0pt}locales\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ integrable{\isacharunderscore}{\kern0pt}toss{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}integrable\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ toss{\isachardot}{\kern0pt}random{\isacharunderscore}{\kern0pt}variable\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ Bochner{\isacharunderscore}{\kern0pt}Integration{\isachardot}{\kern0pt}integrable{\isacharunderscore}{\kern0pt}bound{\isacharbrackleft}{\kern0pt}OF\ integrable{\isacharunderscore}{\kern0pt}const{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ real{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ toss{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ integrable{\isacharunderscore}{\kern0pt}fortune{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}integrable\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fortune\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}bound\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ Bochner{\isacharunderscore}{\kern0pt}Integration{\isachardot}{\kern0pt}integrable{\isacharunderscore}{\kern0pt}bound{\isacharbrackleft}{\kern0pt}OF\ integrable{\isacharunderscore}{\kern0pt}const{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ fortune{\isachardot}{\kern0pt}random{\isacharunderscore}{\kern0pt}variable{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
We provide the following lemma to explicitly calculate the probability of events in this probability space.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharunderscore}{\kern0pt}pred{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}p\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}finite\ J{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}prob\ p\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}j{\isasymin}J{\isachardot}{\kern0pt}\ P\ j\ {\isacharequal}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ j{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p\ {\isacharcircum}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}J\ {\isasyminter}\ Collect\ P{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}J\ {\isacharminus}{\kern0pt}\ Collect\ P{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}PiE\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymPi}\isactrlsub E\ i{\isasymin}J{\isachardot}{\kern0pt}\ if\ P\ i\ then\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}product{\isacharunderscore}{\kern0pt}prob{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\isanewline
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}stream\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ to{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ prod{\isacharunderscore}{\kern0pt}emb\ UNIV\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ J\ {\isacharquery}{\kern0pt}PiE{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s\ {\isasymin}\ prod{\isacharunderscore}{\kern0pt}emb\ UNIV\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ J\ {\isacharquery}{\kern0pt}PiE{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ prod{\isacharunderscore}{\kern0pt}emb{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ s{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}def\ PiE{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}singleton\ UNIV{\isacharunderscore}{\kern0pt}I\ extensional{\isacharunderscore}{\kern0pt}UNIV\ insert{\isacharunderscore}{\kern0pt}iff\ singletonD\ space{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ {\isachardoublequoteopen}i\ {\isasymin}\ J{\isachardoublequoteclose}\ {\isachardoublequoteopen}P\ i\ {\isasymnoteq}\ s\ i{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s\ {\isasymin}\ prod{\isacharunderscore}{\kern0pt}emb\ UNIV\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ J\ {\isacharquery}{\kern0pt}PiE{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ restrict{\isacharunderscore}{\kern0pt}def\ prod{\isacharunderscore}{\kern0pt}emb{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ s{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ PiE{\isacharunderscore}{\kern0pt}mem\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}def\ insert{\isacharunderscore}{\kern0pt}iff\ singleton{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ inteq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}stream\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ prod{\isacharunderscore}{\kern0pt}emb\ UNIV\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ J\ {\isacharquery}{\kern0pt}PiE{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Pi\isactrlsub M\ UNIV\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}s\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ emeasure\ {\isacharquery}{\kern0pt}M\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}stream\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ \ {\isacharequal}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ emeasure{\isacharunderscore}{\kern0pt}distr{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}stream{\isachardoublequoteclose}\ {\isacharquery}{\kern0pt}M\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}algebra\ {\isacharparenleft}{\kern0pt}streams\ {\isacharparenleft}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymforall}i{\isasymin}J{\isachardot}{\kern0pt}\ P\ i\ {\isacharequal}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}\ measurable{\isacharunderscore}{\kern0pt}to{\isacharunderscore}{\kern0pt}stream{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def\ stream{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}def\ {\isacharasterisk}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}PiM\ {\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}notin{\isacharunderscore}{\kern0pt}sets\ in{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}algebra\ inf{\isacharunderscore}{\kern0pt}top{\isachardot}{\kern0pt}right{\isacharunderscore}{\kern0pt}neutral\ sets{\isacharunderscore}{\kern0pt}distr\ vimage{\isacharunderscore}{\kern0pt}Collect{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ emeasure\ {\isacharquery}{\kern0pt}M\ {\isacharparenleft}{\kern0pt}prod{\isacharunderscore}{\kern0pt}emb\ UNIV\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ J\ {\isacharquery}{\kern0pt}PiE{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ inteq\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}PiM{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}J{\isachardot}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ P\ i\ then\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ emeasure{\isacharunderscore}{\kern0pt}PiM{\isacharunderscore}{\kern0pt}emb{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}J\ {\isasyminter}\ Collect\ P{\isachardot}{\kern0pt}\ ennreal\ p{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}i{\isasymin}J\ {\isacharminus}{\kern0pt}\ Collect\ P{\isachardot}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}single{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isachardoublequoteclose}\ True{\isacharcomma}{\kern0pt}\ unfolded\ pmf{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}True{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ emeasure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}single{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isachardoublequoteclose}\ False{\isacharcomma}{\kern0pt}\ unfolded\ pmf{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}False{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}Int{\isacharunderscore}{\kern0pt}Diff{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Collect\ P{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p\ {\isacharcircum}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}J\ {\isasyminter}\ Collect\ P{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}J\ {\isacharminus}{\kern0pt}\ Collect\ P{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ prod{\isacharunderscore}{\kern0pt}ennreal\ ennreal{\isacharunderscore}{\kern0pt}mult{\isacharprime}{\kern0pt}\ ennreal{\isacharunderscore}{\kern0pt}power{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ measure{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}ennreal{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}p\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prob\ p\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}neg{\isacharunderscore}{\kern0pt}snth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prob\ p\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymnot}w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharunderscore}{\kern0pt}pred{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ True{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharunderscore}{\kern0pt}pred{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ False{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Now we can express the expected value of a single coin toss.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ integral{\isacharunderscore}{\kern0pt}toss{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}expectation\ p\ {\isacharparenleft}{\kern0pt}toss\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ p\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isasymin}\ events\ p{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ measurable{\isacharunderscore}{\kern0pt}snth{\isacharbrackleft}{\kern0pt}THEN\ measurable{\isacharunderscore}{\kern0pt}sets{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ n{\isacharcomma}{\kern0pt}\ folded\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}expectation\ p\ {\isacharparenleft}{\kern0pt}toss\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Bochner{\isacharunderscore}{\kern0pt}Integration{\isachardot}{\kern0pt}simple{\isacharunderscore}{\kern0pt}bochner{\isacharunderscore}{\kern0pt}integral\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ toss{\isachardot}{\kern0pt}random{\isacharunderscore}{\kern0pt}variable{\isacharbrackleft}{\kern0pt}of\ n{\isacharcomma}{\kern0pt}\ THEN\ measurable{\isacharunderscore}{\kern0pt}sets{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ simple{\isacharunderscore}{\kern0pt}bochner{\isacharunderscore}{\kern0pt}integrable{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}integral{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ simple{\isacharunderscore}{\kern0pt}bochner{\isacharunderscore}{\kern0pt}integrable{\isachardot}{\kern0pt}intros{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ toss{\isacharunderscore}{\kern0pt}def\ simple{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p\ {\isacharminus}{\kern0pt}\ prob\ p\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ {\isasymnot}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ simple{\isacharunderscore}{\kern0pt}bochner{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ range{\isacharunderscore}{\kern0pt}toss{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}\ toss{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ prob\ p\ {\isacharbraceleft}{\kern0pt}s{\isachardot}{\kern0pt}\ s\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ prob{\isacharunderscore}{\kern0pt}compl{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}neg{\isacharunderscore}{\kern0pt}eq\ Compl{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}UNIV{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Now, we show that the tosses are independent from one another.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}toss{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}indep{\isacharunderscore}{\kern0pt}vars\ p\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ borel{\isacharparenright}{\kern0pt}\ toss\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ intro\ conjI\ indep{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}sigma{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ J\ \isacommand{assume}\isamarkupfalse%
\ asm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}J\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ J{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}j{\isasymin}J{\isachardot}{\kern0pt}\ A\ j\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}toss\ j\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}A{\isachardot}{\kern0pt}\ A\ {\isasymin}\ borel{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}j{\isasymin}J{\isachardot}{\kern0pt}\ {\isasymexists}B\ {\isasymin}\ borel{\isachardot}{\kern0pt}\ A\ j\ {\isacharequal}{\kern0pt}\ toss\ j\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ B\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ B\ \isakeyword{where}\ B{\isacharunderscore}{\kern0pt}is{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ j\ {\isacharequal}{\kern0pt}\ toss\ j\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ B\ j\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}B\ j\ {\isasymin}\ borel{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}j\ {\isasymin}\ J{\isachardoublequoteclose}\ \isakeyword{for}\ j\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prob\ p\ {\isacharparenleft}{\kern0pt}{\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}j{\isasymin}J{\isachardot}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ cases%
\begin{isamarkuptext}%
We consider the case where there is a zero probability event.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}j\ {\isasymin}\ J{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymnotin}\ B\ j\ {\isasymand}\ {\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isasymnotin}\ B\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}is{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymin}\ J{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymnotin}\ B\ j{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isasymnotin}\ B\ j{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ j\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ B{\isacharunderscore}{\kern0pt}is\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ toss{\isacharunderscore}{\kern0pt}def\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}is\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}empty\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}is\ asm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
%
\begin{isamarkuptext}%
We now assume all events have positive probability.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymexists}j\ {\isasymin}\ J{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymnotin}\ B\ j\ {\isasymand}\ {\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isasymnotin}\ B\ j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymin}\ B\ j\ {\isasymor}\ {\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isasymin}\ B\ j{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}j\ {\isasymin}\ J{\isachardoublequoteclose}\ \isakeyword{for}\ j\ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ J{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}J{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}j\ {\isasymin}\ J{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isasymin}\ B\ j{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}\ {\isasymnotin}\ B\ j{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}toss\ j\ w\ {\isasymin}\ B\ j\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isasymin}\ B\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ j{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}j\ {\isasymin}\ J{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ w\ j\ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{unfolding}\isamarkupfalse%
\ toss{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}j{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isasymin}\ B\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ B{\isacharunderscore}{\kern0pt}is\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ prob{\isacharunderscore}{\kern0pt}J{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prob\ p\ {\isacharparenleft}{\kern0pt}{\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p\ {\isacharcircum}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}J{\isacharprime}{\kern0pt}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}j{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ B\ j{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharcircum}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}J{\isacharprime}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}j{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ B\ j{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharunderscore}{\kern0pt}pred{\isacharbrackleft}{\kern0pt}OF\ assms\ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ asm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ J{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}j{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ B\ j{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto%
\begin{isamarkuptext}%
The index set \isa{J{\isacharprime}{\kern0pt}} consists of the indices of all non-trivial events.%
\end{isamarkuptext}\isamarkuptrue%
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}True{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ j\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}j\ {\isasymin}\ J{\isacharprime}{\kern0pt}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}j{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ B\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ j\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ toss{\isacharunderscore}{\kern0pt}def\ B{\isacharunderscore}{\kern0pt}is{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\ \isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}False{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ j\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymnot}w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}j\ {\isasymin}\ J{\isacharprime}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}j{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ B\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ j\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ B{\isacharunderscore}{\kern0pt}is\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ toss{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}top{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ j\ {\isacharequal}{\kern0pt}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}j\ {\isasymin}\ J\ {\isacharminus}{\kern0pt}\ J{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ j\ \isacommand{using}\isamarkupfalse%
\ that\ {\isacharasterisk}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ B{\isacharunderscore}{\kern0pt}is\ toss{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}prob\ p\ {\isacharparenleft}{\kern0pt}{\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}{\isasymInter}\ {\isacharparenleft}{\kern0pt}A\ {\isacharbackquote}{\kern0pt}\ J{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}j{\isasymin}J{\isacharprime}{\kern0pt}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}j{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ B\ j{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}j{\isasymin}J{\isacharprime}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}j{\isachardot}{\kern0pt}\ {\isadigit{1}}\ {\isasymin}\ B\ j{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ only{\isacharcolon}{\kern0pt}\ prob{\isacharunderscore}{\kern0pt}J{\isacharprime}{\kern0pt}\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}True\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}False\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}snth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}neg{\isacharunderscore}{\kern0pt}snth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ cong{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}j{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ asm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ prod{\isachardot}{\kern0pt}Int{\isacharunderscore}{\kern0pt}Diff{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}j{\isasymin}J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}j{\isasymin}J\ {\isacharminus}{\kern0pt}\ J{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}top\ prob{\isacharunderscore}{\kern0pt}space\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymProd}j{\isasymin}J{\isachardot}{\kern0pt}\ prob\ p\ {\isacharparenleft}{\kern0pt}A\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ asm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ J{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ mult{\isachardot}{\kern0pt}commute\ prod{\isachardot}{\kern0pt}subset{\isacharunderscore}{\kern0pt}diff\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}indep{\isacharunderscore}{\kern0pt}sets\ p\ {\isacharparenleft}{\kern0pt}{\isasymlambda}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}toss\ i\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A\ {\isasyminter}\ space\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}A{\isachardot}{\kern0pt}\ A\ {\isasymin}\ sets\ borel{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ measurable{\isacharunderscore}{\kern0pt}sets{\isacharbrackleft}{\kern0pt}OF\ toss{\isachardot}{\kern0pt}random{\isacharunderscore}{\kern0pt}variable{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ indep{\isacharunderscore}{\kern0pt}setsI\ subsetI{\isacharparenright}{\kern0pt}\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ intro\ Int{\isacharunderscore}{\kern0pt}stableI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ metis\ sets{\isachardot}{\kern0pt}Int\ vimage{\isacharunderscore}{\kern0pt}Int{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The fortune of a player is a martingale (resp. sub- or supermartingale) with respect to the filtration generated by the coin tosses.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}martingale{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isacharslash}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}martingale\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss{\isacharunderscore}{\kern0pt}filtration\ p{\isacharparenright}{\kern0pt}\ fortune{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}exp{\isacharunderscore}{\kern0pt}indep{\isacharbrackleft}{\kern0pt}OF\ fortune{\isachardot}{\kern0pt}subalg\ indep{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}natural{\isacharunderscore}{\kern0pt}filtration\ integrable{\isacharunderscore}{\kern0pt}toss{\isacharcomma}{\kern0pt}\ OF\ zero{\isacharunderscore}{\kern0pt}order{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ lessI\ indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}toss{\isacharcomma}{\kern0pt}\ of\ p{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ integral{\isacharunderscore}{\kern0pt}toss\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ fortune{\isachardot}{\kern0pt}martingale{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}cond{\isacharunderscore}{\kern0pt}exp{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}zero\ integrable{\isacharunderscore}{\kern0pt}fortune{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ fortune{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}submartingale{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{1}}{\isacharslash}{\kern0pt}{\isadigit{2}}\ {\isasymle}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}submartingale\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss{\isacharunderscore}{\kern0pt}filtration\ p{\isacharparenright}{\kern0pt}\ fortune{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ fortune{\isachardot}{\kern0pt}submartingale{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}cond{\isacharunderscore}{\kern0pt}exp{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}nonneg\ integrable{\isacharunderscore}{\kern0pt}fortune{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}AE\ {\isasymxi}\ in\ bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isasymle}\ cond{\isacharunderscore}{\kern0pt}exp\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss{\isacharunderscore}{\kern0pt}filtration\ p\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymxi}{\isachardot}{\kern0pt}\ fortune\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isasymxi}\ {\isacharminus}{\kern0pt}\ fortune\ n\ {\isasymxi}{\isacharparenright}{\kern0pt}\ {\isasymxi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}exp{\isacharunderscore}{\kern0pt}indep{\isacharbrackleft}{\kern0pt}OF\ fortune{\isachardot}{\kern0pt}subalg\ indep{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}natural{\isacharunderscore}{\kern0pt}filtration\ integrable{\isacharunderscore}{\kern0pt}toss{\isacharcomma}{\kern0pt}\ OF\ zero{\isacharunderscore}{\kern0pt}order{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ lessI\ indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}toss{\isacharcomma}{\kern0pt}\ of\ p\ n{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ integral{\isacharunderscore}{\kern0pt}toss{\isacharbrackleft}{\kern0pt}of\ p\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ fortune{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ fortune{\isacharunderscore}{\kern0pt}supermartingale{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymle}\ {\isadigit{1}}{\isacharslash}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}supermartingale\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss{\isacharunderscore}{\kern0pt}filtration\ p{\isacharparenright}{\kern0pt}\ fortune{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ fortune{\isachardot}{\kern0pt}supermartingale{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}cond{\isacharunderscore}{\kern0pt}exp{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}zero\ integrable{\isacharunderscore}{\kern0pt}fortune{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ n\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}AE\ {\isasymxi}\ in\ bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isasymge}\ cond{\isacharunderscore}{\kern0pt}exp\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}stream\ p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}toss{\isacharunderscore}{\kern0pt}filtration\ p\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymxi}{\isachardot}{\kern0pt}\ fortune\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isasymxi}\ {\isacharminus}{\kern0pt}\ fortune\ n\ {\isasymxi}{\isacharparenright}{\kern0pt}\ {\isasymxi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cond{\isacharunderscore}{\kern0pt}exp{\isacharunderscore}{\kern0pt}indep{\isacharbrackleft}{\kern0pt}OF\ fortune{\isachardot}{\kern0pt}subalg\ indep{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}natural{\isacharunderscore}{\kern0pt}filtration\ integrable{\isacharunderscore}{\kern0pt}toss{\isacharcomma}{\kern0pt}\ OF\ zero{\isacharunderscore}{\kern0pt}order{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ lessI\ indep{\isacharunderscore}{\kern0pt}vars{\isacharunderscore}{\kern0pt}toss{\isacharcomma}{\kern0pt}\ of\ p\ n{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ integral{\isacharunderscore}{\kern0pt}toss{\isacharbrackleft}{\kern0pt}of\ p\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ fortune{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Example_Coin_Toss.tex%:%
%:%6=2%:%
%:%7=3%:%
%:%12=4%:%
%:%13=4%:%
%:%14=5%:%
%:%15=6%:%
%:%29=8%:%
%:%41=10%:%
%:%43=12%:%
%:%44=12%:%
%:%45=13%:%
%:%46=14%:%
%:%47=15%:%
%:%48=15%:%
%:%50=15%:%
%:%54=15%:%
%:%55=15%:%
%:%64=17%:%
%:%66=19%:%
%:%67=19%:%
%:%68=20%:%
%:%69=21%:%
%:%70=22%:%
%:%71=22%:%
%:%72=23%:%
%:%73=24%:%
%:%74=25%:%
%:%75=25%:%
%:%78=26%:%
%:%82=26%:%
%:%83=26%:%
%:%84=26%:%
%:%89=26%:%
%:%92=27%:%
%:%93=28%:%
%:%94=28%:%
%:%101=29%:%
%:%102=29%:%
%:%103=30%:%
%:%104=30%:%
%:%105=30%:%
%:%106=31%:%
%:%107=31%:%
%:%108=31%:%
%:%109=31%:%
%:%110=32%:%
%:%111=32%:%
%:%112=32%:%
%:%113=32%:%
%:%114=33%:%
%:%115=33%:%
%:%116=33%:%
%:%117=33%:%
%:%118=34%:%
%:%124=34%:%
%:%127=35%:%
%:%128=36%:%
%:%129=36%:%
%:%132=37%:%
%:%136=37%:%
%:%137=37%:%
%:%138=37%:%
%:%143=37%:%
%:%146=38%:%
%:%147=39%:%
%:%148=39%:%
%:%151=40%:%
%:%155=40%:%
%:%156=40%:%
%:%161=40%:%
%:%164=41%:%
%:%165=42%:%
%:%166=42%:%
%:%169=43%:%
%:%173=43%:%
%:%174=43%:%
%:%179=43%:%
%:%182=44%:%
%:%183=45%:%
%:%184=45%:%
%:%186=45%:%
%:%190=45%:%
%:%191=45%:%
%:%200=47%:%
%:%202=49%:%
%:%203=49%:%
%:%205=49%:%
%:%209=49%:%
%:%210=49%:%
%:%211=49%:%
%:%218=49%:%
%:%219=50%:%
%:%220=51%:%
%:%221=51%:%
%:%223=53%:%
%:%225=55%:%
%:%226=55%:%
%:%229=56%:%
%:%233=56%:%
%:%234=56%:%
%:%235=57%:%
%:%244=59%:%
%:%246=61%:%
%:%247=61%:%
%:%254=62%:%
%:%255=62%:%
%:%256=63%:%
%:%257=63%:%
%:%258=64%:%
%:%259=64%:%
%:%260=65%:%
%:%261=65%:%
%:%262=66%:%
%:%263=67%:%
%:%264=68%:%
%:%265=69%:%
%:%266=70%:%
%:%272=70%:%
%:%275=71%:%
%:%276=72%:%
%:%277=72%:%
%:%280=73%:%
%:%284=73%:%
%:%285=73%:%
%:%286=74%:%
%:%287=74%:%
%:%292=74%:%
%:%295=75%:%
%:%296=76%:%
%:%297=76%:%
%:%299=76%:%
%:%303=76%:%
%:%304=76%:%
%:%305=77%:%
%:%306=77%:%
%:%315=79%:%
%:%317=81%:%
%:%318=81%:%
%:%319=82%:%
%:%320=83%:%
%:%327=84%:%
%:%328=84%:%
%:%329=85%:%
%:%330=85%:%
%:%331=86%:%
%:%332=86%:%
%:%333=86%:%
%:%334=87%:%
%:%335=88%:%
%:%336=88%:%
%:%337=88%:%
%:%338=88%:%
%:%339=89%:%
%:%340=89%:%
%:%341=89%:%
%:%342=90%:%
%:%343=90%:%
%:%344=91%:%
%:%345=91%:%
%:%346=92%:%
%:%347=92%:%
%:%348=92%:%
%:%349=93%:%
%:%350=93%:%
%:%351=94%:%
%:%352=94%:%
%:%353=95%:%
%:%354=95%:%
%:%355=96%:%
%:%356=96%:%
%:%357=97%:%
%:%358=97%:%
%:%359=98%:%
%:%360=98%:%
%:%361=98%:%
%:%362=99%:%
%:%363=99%:%
%:%364=99%:%
%:%365=99%:%
%:%366=100%:%
%:%367=100%:%
%:%368=101%:%
%:%369=101%:%
%:%370=102%:%
%:%371=102%:%
%:%372=103%:%
%:%373=103%:%
%:%374=103%:%
%:%375=103%:%
%:%376=104%:%
%:%377=104%:%
%:%378=105%:%
%:%379=105%:%
%:%380=105%:%
%:%381=105%:%
%:%382=106%:%
%:%383=106%:%
%:%384=107%:%
%:%385=107%:%
%:%386=108%:%
%:%387=108%:%
%:%388=109%:%
%:%389=109%:%
%:%390=110%:%
%:%391=110%:%
%:%392=110%:%
%:%393=110%:%
%:%394=110%:%
%:%395=111%:%
%:%396=111%:%
%:%397=111%:%
%:%398=112%:%
%:%399=112%:%
%:%400=113%:%
%:%401=113%:%
%:%402=113%:%
%:%403=114%:%
%:%404=114%:%
%:%405=115%:%
%:%406=116%:%
%:%407=116%:%
%:%408=117%:%
%:%409=117%:%
%:%410=117%:%
%:%411=117%:%
%:%412=117%:%
%:%413=118%:%
%:%414=118%:%
%:%415=118%:%
%:%416=118%:%
%:%417=118%:%
%:%418=119%:%
%:%424=119%:%
%:%427=120%:%
%:%428=121%:%
%:%429=121%:%
%:%430=122%:%
%:%431=123%:%
%:%432=124%:%
%:%435=125%:%
%:%439=125%:%
%:%440=125%:%
%:%441=126%:%
%:%442=126%:%
%:%451=128%:%
%:%453=130%:%
%:%454=130%:%
%:%455=131%:%
%:%456=132%:%
%:%463=133%:%
%:%464=133%:%
%:%465=134%:%
%:%466=134%:%
%:%467=134%:%
%:%468=135%:%
%:%469=135%:%
%:%470=136%:%
%:%471=136%:%
%:%472=137%:%
%:%473=137%:%
%:%474=138%:%
%:%475=138%:%
%:%476=139%:%
%:%477=139%:%
%:%478=139%:%
%:%479=139%:%
%:%480=139%:%
%:%481=140%:%
%:%482=140%:%
%:%483=141%:%
%:%484=141%:%
%:%485=141%:%
%:%486=141%:%
%:%487=142%:%
%:%488=142%:%
%:%489=142%:%
%:%490=142%:%
%:%491=142%:%
%:%492=143%:%
%:%502=145%:%
%:%504=147%:%
%:%505=147%:%
%:%506=148%:%
%:%507=149%:%
%:%514=150%:%
%:%515=150%:%
%:%516=151%:%
%:%517=151%:%
%:%518=152%:%
%:%519=152%:%
%:%520=152%:%
%:%521=153%:%
%:%522=153%:%
%:%523=153%:%
%:%524=154%:%
%:%525=154%:%
%:%526=154%:%
%:%527=154%:%
%:%528=155%:%
%:%529=156%:%
%:%530=156%:%
%:%531=157%:%
%:%532=157%:%
%:%534=158%:%
%:%536=159%:%
%:%537=159%:%
%:%538=160%:%
%:%539=160%:%
%:%540=160%:%
%:%541=160%:%
%:%542=161%:%
%:%543=161%:%
%:%544=161%:%
%:%545=161%:%
%:%546=162%:%
%:%547=162%:%
%:%548=162%:%
%:%549=162%:%
%:%550=163%:%
%:%551=163%:%
%:%552=163%:%
%:%553=163%:%
%:%554=163%:%
%:%555=164%:%
%:%556=164%:%
%:%557=164%:%
%:%558=164%:%
%:%559=164%:%
%:%560=165%:%
%:%563=166%:%
%:%565=167%:%
%:%566=167%:%
%:%567=168%:%
%:%568=168%:%
%:%569=168%:%
%:%570=168%:%
%:%571=169%:%
%:%572=170%:%
%:%573=171%:%
%:%574=171%:%
%:%575=172%:%
%:%576=172%:%
%:%577=172%:%
%:%578=172%:%
%:%579=172%:%
%:%580=173%:%
%:%581=173%:%
%:%582=173%:%
%:%583=173%:%
%:%584=174%:%
%:%585=174%:%
%:%586=175%:%
%:%587=175%:%
%:%588=175%:%
%:%590=177%:%
%:%592=179%:%
%:%593=179%:%
%:%594=180%:%
%:%595=180%:%
%:%596=180%:%
%:%597=181%:%
%:%598=182%:%
%:%599=182%:%
%:%600=183%:%
%:%601=183%:%
%:%602=183%:%
%:%603=184%:%
%:%604=185%:%
%:%605=185%:%
%:%606=185%:%
%:%607=185%:%
%:%608=186%:%
%:%609=186%:%
%:%610=186%:%
%:%611=187%:%
%:%612=187%:%
%:%613=187%:%
%:%614=188%:%
%:%615=188%:%
%:%616=188%:%
%:%617=189%:%
%:%618=189%:%
%:%619=190%:%
%:%620=190%:%
%:%621=190%:%
%:%622=190%:%
%:%623=190%:%
%:%624=191%:%
%:%625=191%:%
%:%626=191%:%
%:%627=191%:%
%:%628=191%:%
%:%629=192%:%
%:%630=192%:%
%:%631=192%:%
%:%632=192%:%
%:%633=192%:%
%:%634=193%:%
%:%635=193%:%
%:%636=193%:%
%:%637=193%:%
%:%638=194%:%
%:%639=194%:%
%:%640=195%:%
%:%641=195%:%
%:%642=196%:%
%:%643=196%:%
%:%644=196%:%
%:%645=197%:%
%:%646=197%:%
%:%647=198%:%
%:%648=198%:%
%:%657=200%:%
%:%659=202%:%
%:%660=202%:%
%:%661=203%:%
%:%662=204%:%
%:%665=205%:%
%:%669=205%:%
%:%670=205%:%
%:%671=206%:%
%:%672=207%:%
%:%673=207%:%
%:%678=207%:%
%:%681=208%:%
%:%682=209%:%
%:%683=209%:%
%:%684=210%:%
%:%685=211%:%
%:%692=212%:%
%:%693=212%:%
%:%694=213%:%
%:%695=213%:%
%:%696=214%:%
%:%697=214%:%
%:%698=215%:%
%:%699=215%:%
%:%700=216%:%
%:%701=217%:%
%:%702=217%:%
%:%703=218%:%
%:%709=218%:%
%:%712=219%:%
%:%713=220%:%
%:%714=220%:%
%:%715=221%:%
%:%716=222%:%
%:%723=223%:%
%:%724=223%:%
%:%725=224%:%
%:%726=224%:%
%:%727=225%:%
%:%728=225%:%
%:%729=226%:%
%:%730=226%:%
%:%731=227%:%
%:%732=228%:%
%:%733=228%:%
%:%734=229%:%
%:%740=229%:%
%:%745=230%:%
%:%750=231%:%
