%
\begin{isabellebody}%
\setisabellecontext{Sigma{\isacharunderscore}{\kern0pt}Finite{\isacharunderscore}{\kern0pt}Measure{\isacharunderscore}{\kern0pt}Addendum}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Sigma{\isacharunderscore}{\kern0pt}Finite{\isacharunderscore}{\kern0pt}Measure{\isacharunderscore}{\kern0pt}Addendum\isanewline
\isakeyword{imports}\ Set{\isacharunderscore}{\kern0pt}Integral{\isacharunderscore}{\kern0pt}Addendum\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Averaging Theorem%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ balls{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}basis{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{obtains}\ D\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}metric{\isacharunderscore}{\kern0pt}space{\isacharcomma}{\kern0pt}\ second{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}topology{\isacharbraceright}{\kern0pt}\ set{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}topological{\isacharunderscore}{\kern0pt}basis\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}prod\ ball\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}D\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}countable\ D{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}D\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \ \ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ D\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\ dense{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}countable\ D{\isachardoublequoteclose}\ {\isachardoublequoteopen}D\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlbrakk}open\ U{\isacharsemicolon}{\kern0pt}\ U\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymexists}y\ {\isasymin}\ D{\isachardot}{\kern0pt}\ y\ {\isasymin}\ U{\isachardoublequoteclose}\ \isakeyword{for}\ U\ \isacommand{using}\isamarkupfalse%
\ countable{\isacharunderscore}{\kern0pt}dense{\isacharunderscore}{\kern0pt}exists\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}topological{\isacharunderscore}{\kern0pt}basis\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}prod\ ball\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}D\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ topological{\isacharunderscore}{\kern0pt}basis{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}THEN\ iffD{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ fast{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ U\ \isakeyword{and}\ x\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ \isacommand{assume}\isamarkupfalse%
\ asm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}open\ U{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ U{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ e\ \isakeyword{where}\ e{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ball\ x\ e\ {\isasymsubseteq}\ U{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ asm\ openE\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ D{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ ball\ x\ {\isacharparenleft}{\kern0pt}e\ {\isacharslash}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ dense{\isacharunderscore}{\kern0pt}subset{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ open{\isacharunderscore}{\kern0pt}ball{\isacharcomma}{\kern0pt}\ of\ x\ {\isachardoublequoteopen}e\ {\isacharslash}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ centre{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ball{\isacharbrackleft}{\kern0pt}THEN\ iffD{\isadigit{2}}{\isacharcomma}{\kern0pt}\ OF\ divide{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}pos{\isacharbrackleft}{\kern0pt}OF\ e{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isadigit{3}}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ r\ \isakeyword{where}\ r{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isasymin}\ {\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}e{\isacharslash}{\kern0pt}{\isadigit{3}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}e{\isacharslash}{\kern0pt}{\isadigit{2}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ Rats{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ of{\isacharunderscore}{\kern0pt}rat{\isacharunderscore}{\kern0pt}dense{\isacharbrackleft}{\kern0pt}OF\ divide{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ e{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isadigit{2}}\ {\isadigit{3}}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ ball\ y\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ r\ y\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}ball\ y\ r\ {\isasymsubseteq}\ U{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ r\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ order{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ e{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ metric{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ball\ y\ r\ {\isasymin}\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}prod\ ball\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}D\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ y{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ r\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}B{\isacharprime}{\kern0pt}{\isasymin}{\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}prod\ ball\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}D\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymin}\ B{\isacharprime}{\kern0pt}\ {\isasymand}\ B{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ U{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ that\ dense{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{context}\isamarkupfalse%
\ sigma{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measure\isanewline
\isakeyword{begin}\ \ \ \ \ \ \ \ \ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sigma{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ finite{\isacharunderscore}{\kern0pt}measure{\isacharcomma}{\kern0pt}\ consumes\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}{\isacharparenleft}{\kern0pt}N\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ measure{\isacharparenright}{\kern0pt}\ {\isasymOmega}{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}measure\ N\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ N\ {\isacharequal}{\kern0pt}\ restrict{\isacharunderscore}{\kern0pt}space\ M\ {\isasymOmega}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymOmega}\ {\isasymin}\ sets\ M\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ emeasure\ N\ {\isasymOmega}\ {\isasymnoteq}\ {\isasyminfinity}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ emeasure\ N\ {\isasymOmega}\ {\isasymnoteq}\ {\isadigit{0}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ almost{\isacharunderscore}{\kern0pt}everywhere\ N\ Q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Measurable{\isachardot}{\kern0pt}pred\ M\ Q{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}almost{\isacharunderscore}{\kern0pt}everywhere\ M\ Q{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}almost{\isacharunderscore}{\kern0pt}everywhere\ N\ Q{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}measure\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}N\ {\isacharequal}{\kern0pt}\ restrict{\isacharunderscore}{\kern0pt}space\ M\ {\isasymOmega}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymOmega}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}emeasure\ N\ {\isasymOmega}\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\ \isakeyword{for}\ N\ {\isasymOmega}\ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}emeasure\ N\ {\isasymOmega}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ auto\ intro{\isacharcolon}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}AE\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ A\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\ A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range\ A\ {\isasymsubseteq}\ sets\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ A\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ space\ M{\isachardoublequoteclose}\ \isakeyword{and}\ emeasure{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}emeasure\ M\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\ \isakeyword{for}\ i\ \isacommand{using}\isamarkupfalse%
\ sigma{\isacharunderscore}{\kern0pt}finite\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ A{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ space{\isacharunderscore}{\kern0pt}restr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}space\ {\isacharparenleft}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ M\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A\ i{\isachardoublequoteclose}\ \isakeyword{for}\ i\ \isacommand{unfolding}\isamarkupfalse%
\ space{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ \ \ \ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ A\ i\ {\isasyminter}\ space\ M{\isachardot}{\kern0pt}\ Q\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ Q\ x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Measurable{\isachardot}{\kern0pt}pred\ {\isacharparenleft}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ M\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ Q{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ A\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ measurableI{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ space{\isacharunderscore}{\kern0pt}restr\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ sets{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}THEN\ iffD{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ measurable{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ this{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}measure\ {\isacharparenleft}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ M\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}finite\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ finite{\isacharunderscore}{\kern0pt}measureI{\isacharcomma}{\kern0pt}\ subst\ space{\isacharunderscore}{\kern0pt}restr{\isacharcomma}{\kern0pt}\ subst\ emeasure{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ M\ {\isacharparenleft}{\kern0pt}A\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ A\ i{\isachardot}{\kern0pt}\ {\isasymnot}Q\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}finite\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ AE{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}THEN\ iffD{\isadigit{1}}{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharasterisk}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ measurable{\isacharcomma}{\kern0pt}\ subst\ space{\isacharunderscore}{\kern0pt}restr{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ intro\ sets{\isachardot}{\kern0pt}top{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ A\ i{\isachardot}{\kern0pt}\ {\isasymnot}\ Q\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ emeasure{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ A\ i{\isachardot}{\kern0pt}\ {\isasymnot}\ Q\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ emeasure{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ A\ i{\isachardot}{\kern0pt}\ {\isasymnot}\ Q\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ Q\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ A\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ AE{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}THEN\ iffD{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ averaging{\isacharunderscore}{\kern0pt}theorem{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ f{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}second{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ banach{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}integrable\ M\ f{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeyword{and}\ closed{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}closed\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}{\kern0pt}\ A\ {\isasymin}\ sets\ M\ {\isasymLongrightarrow}\ measure\ M\ A\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ measure\ M\ A{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ M\ A\ f\ {\isasymin}\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isasymin}\ S{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induct\ rule{\isacharcolon}{\kern0pt}\ sigma{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}measure\ N\ {\isasymOmega}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{interpret}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}measure\ N\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ finite{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ integrable{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}integrable\ N\ f{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ finite{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ integrable{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ integrable{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}indicator{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ average{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ Sigma{\isacharunderscore}{\kern0pt}Algebra{\isachardot}{\kern0pt}measure\ N\ A{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ f\ {\isasymin}\ S{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ N{\isachardoublequoteclose}\ {\isachardoublequoteopen}measure\ N\ A\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{for}\ A\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sets{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}iff\ finite{\isacharunderscore}{\kern0pt}measure{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ A\ {\isasyminter}\ {\isasymOmega}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ finite{\isacharunderscore}{\kern0pt}measure{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ inf{\isachardot}{\kern0pt}orderE\ sets{\isachardot}{\kern0pt}sets{\isacharunderscore}{\kern0pt}into{\isacharunderscore}{\kern0pt}space\ space{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ that{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ f\ {\isacharequal}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ M\ A\ f{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ set{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}measure\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def\ indicator{\isacharunderscore}{\kern0pt}inter{\isacharunderscore}{\kern0pt}arith{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}measure\ N\ A\ {\isacharequal}{\kern0pt}\ measure\ M\ A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space\ simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}measure\ sets{\isacharunderscore}{\kern0pt}restrict{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ that\ {\isacharasterisk}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ D\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ set{\isachardoublequoteclose}\ \isakeyword{where}\ balls{\isacharunderscore}{\kern0pt}basis{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}topological{\isacharunderscore}{\kern0pt}basis\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}prod\ ball\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}D\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ countable{\isacharunderscore}{\kern0pt}D{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}countable\ D{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ balls{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}basis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ countable{\isacharunderscore}{\kern0pt}balls{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}countable\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}prod\ ball\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}D\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ countable{\isacharunderscore}{\kern0pt}rat\ countable{\isacharunderscore}{\kern0pt}D\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ B\ \isakeyword{where}\ B{\isacharunderscore}{\kern0pt}balls{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}B\ {\isasymsubseteq}\ case{\isacharunderscore}{\kern0pt}prod\ ball\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}D\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isasymrat}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharless}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymUnion}B\ {\isacharequal}{\kern0pt}\ {\isacharminus}{\kern0pt}S{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ topological{\isacharunderscore}{\kern0pt}basis{\isacharbrackleft}{\kern0pt}THEN\ iffD{\isadigit{1}}{\isacharcomma}{\kern0pt}\ OF\ balls{\isacharunderscore}{\kern0pt}basis{\isacharbrackright}{\kern0pt}\ open{\isacharunderscore}{\kern0pt}Compl{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ countable{\isacharunderscore}{\kern0pt}B{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}countable\ B{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ countable{\isacharunderscore}{\kern0pt}balls\ countable{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ b\ \isakeyword{where}\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ from{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}into\ {\isacharparenleft}{\kern0pt}B\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}B\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ range{\isacharunderscore}{\kern0pt}b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range\ b\ {\isacharequal}{\kern0pt}\ B\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ countable{\isacharunderscore}{\kern0pt}B\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ range{\isacharunderscore}{\kern0pt}from{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}into{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ open{\isacharunderscore}{\kern0pt}b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}open\ {\isacharparenleft}{\kern0pt}b\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ i\ \isacommand{unfolding}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ B{\isacharunderscore}{\kern0pt}balls\ open{\isacharunderscore}{\kern0pt}ball\ from{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}into{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}B\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ i{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Union{\isacharunderscore}{\kern0pt}range{\isacharunderscore}{\kern0pt}b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}range\ b{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharminus}{\kern0pt}S{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ B{\isacharunderscore}{\kern0pt}balls\ range{\isacharunderscore}{\kern0pt}b\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ r\ \isacommand{assume}\isamarkupfalse%
\ ball{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Compl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ball\ v\ r\ {\isasymsubseteq}\ {\isacharminus}{\kern0pt}S{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ A\ \isakeyword{where}\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ ball\ v\ r\ {\isasyminter}\ space\ N{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}less{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}f\ x{\isacharparenright}{\kern0pt}\ v\ {\isacharless}{\kern0pt}\ r{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}x\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{for}\ x\ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ vimage{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ AE{\isacharunderscore}{\kern0pt}less{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AE\ x\ {\isasymin}\ A\ in\ N{\isachardot}{\kern0pt}\ norm\ {\isacharparenleft}{\kern0pt}f\ x\ {\isacharminus}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}norm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ N{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ N\ A\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ asm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}emeasure\ N\ A\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ measure{\isacharunderscore}{\kern0pt}pos{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}measure\ N\ A\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}measure\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ measure\ N\ A{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ f\ {\isacharminus}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ measure\ N\ A{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ f\ x\ {\isacharminus}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ integrable\ integrable{\isacharunderscore}{\kern0pt}const\ {\isacharasterisk}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ set{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}diff{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}integrable{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}const{\isacharbrackleft}{\kern0pt}OF\ {\isacharasterisk}{\kern0pt}{\isacharbrackright}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ integrable{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}indicator{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}norm\ {\isacharparenleft}{\kern0pt}{\isasymintegral}x{\isasymin}A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ x\ {\isacharminus}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isasympartial}N{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isacharparenleft}{\kern0pt}{\isasymintegral}x{\isasymin}A{\isachardot}{\kern0pt}\ norm\ {\isacharparenleft}{\kern0pt}f\ x\ {\isacharminus}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isasympartial}N{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ integral{\isacharunderscore}{\kern0pt}norm{\isacharunderscore}{\kern0pt}bound{\isacharbrackleft}{\kern0pt}of\ N\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ indicator\ A\ x\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ {\isacharparenleft}{\kern0pt}f\ x\ {\isacharminus}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ THEN\ order{\isacharunderscore}{\kern0pt}trans{\isacharbrackright}{\kern0pt}\ integrable{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}indicator\ integrable\ simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}norm\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ measure\ N\ A{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ f\ {\isacharminus}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ \ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ norm\ {\isacharparenleft}{\kern0pt}f\ x\ {\isacharminus}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ measure\ N\ A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ asm\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ divide{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ measure\ N\ A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ asm\ {\isacharasterisk}{\kern0pt}\ integrable\ integrable{\isacharunderscore}{\kern0pt}const\ AE{\isacharunderscore}{\kern0pt}less\ measure{\isacharunderscore}{\kern0pt}pos\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ divide{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono\ integral{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}AE{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}\ integrable{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}indicator{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}fastforce\ simp\ add{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}less\ dist{\isacharunderscore}{\kern0pt}norm\ indicator{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pos\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}const{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ measure\ N\ A{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ N\ A\ f{\isacharparenright}{\kern0pt}\ v\ {\isacharless}{\kern0pt}\ r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ dist{\isacharunderscore}{\kern0pt}norm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ average{\isacharbrackleft}{\kern0pt}OF\ {\isacharasterisk}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pos{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ ComplD\ dist{\isacharunderscore}{\kern0pt}commute\ in{\isacharunderscore}{\kern0pt}mono\ mem{\isacharunderscore}{\kern0pt}ball\ ball{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Compl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ {\isacharequal}{\kern0pt}\ this\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ b{\isacharprime}{\kern0pt}\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b{\isacharprime}{\kern0pt}\ {\isasymin}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ ball{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}Compl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ {\isacharminus}{\kern0pt}S{\isachardoublequoteclose}\ \isakeyword{and}\ ball{\isacharunderscore}{\kern0pt}radius{\isacharunderscore}{\kern0pt}pos{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}v\ {\isasymin}\ D{\isachardot}{\kern0pt}\ {\isasymexists}r{\isachargreater}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}\ b{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ball\ v\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ B{\isacharunderscore}{\kern0pt}balls\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}blast{\isacharcomma}{\kern0pt}\ fast{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharasterisk}{\kern0pt}\ {\isacharequal}{\kern0pt}\ this\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ N\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ b\ i\ {\isasyminter}\ space\ N{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{for}\ i\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}b\ i\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ UnE\ singletonD\ \ {\isacharasterisk}{\kern0pt}\ range{\isacharunderscore}{\kern0pt}b{\isacharbrackleft}{\kern0pt}THEN\ eq{\isacharunderscore}{\kern0pt}refl{\isacharcomma}{\kern0pt}\ THEN\ range{\isacharunderscore}{\kern0pt}subsetD{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ N\ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ b\ i\ {\isasyminter}\ space\ N{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ open{\isacharunderscore}{\kern0pt}b\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ emeasure{\isacharunderscore}{\kern0pt}UN{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isachardot}{\kern0pt}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ b\ i\ {\isasyminter}\ space\ N{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}{\isacharparenleft}{\kern0pt}range\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ space\ N{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ N\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}S{\isacharparenright}{\kern0pt}\ {\isasyminter}\ space\ N{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Union{\isacharunderscore}{\kern0pt}range{\isacharunderscore}{\kern0pt}b\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}AE\ x\ in\ N{\isachardot}{\kern0pt}\ f\ x\ {\isasymnotin}\ {\isacharminus}{\kern0pt}S{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ open{\isacharunderscore}{\kern0pt}Compl{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ AE{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}THEN\ iffD{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ pred{\isacharunderscore}{\kern0pt}sets{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ borel{\isacharunderscore}{\kern0pt}closed{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ density{\isacharunderscore}{\kern0pt}zero{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ f{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}second{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ banach{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}integrable\ M\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ density{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}{\kern0pt}\ A\ {\isasymin}\ sets\ M\ {\isasymLongrightarrow}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ M\ A\ f\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ averaging{\isacharunderscore}{\kern0pt}theorem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ scaleR{\isacharunderscore}{\kern0pt}nonneg{\isacharunderscore}{\kern0pt}nonneg{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ density{\isacharunderscore}{\kern0pt}unique{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ f\ f{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}second{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ banach{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}integrable\ M\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}integrable\ M\ f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ density{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}{\kern0pt}\ A\ {\isasymin}\ sets\ M\ {\isasymLongrightarrow}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ M\ A\ f\ {\isacharequal}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ M\ A\ f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ f{\isacharprime}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ \isacommand{assume}\isamarkupfalse%
\ asm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}LINT\ x{\isacharbar}{\kern0pt}M{\isachardot}{\kern0pt}\ indicat{\isacharunderscore}{\kern0pt}real\ A\ x\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ {\isacharparenleft}{\kern0pt}f\ x\ {\isacharminus}{\kern0pt}\ f{\isacharprime}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ density{\isacharunderscore}{\kern0pt}eq\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def\ algebra{\isacharunderscore}{\kern0pt}simps\ Bochner{\isacharunderscore}{\kern0pt}Integration{\isachardot}{\kern0pt}integral{\isacharunderscore}{\kern0pt}diff{\isacharbrackleft}{\kern0pt}OF\ integrable{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}indicator{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ density{\isacharunderscore}{\kern0pt}zero{\isacharbrackleft}{\kern0pt}OF\ Bochner{\isacharunderscore}{\kern0pt}Integration{\isachardot}{\kern0pt}integrable{\isacharunderscore}{\kern0pt}diff{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ density{\isacharunderscore}{\kern0pt}nonneg{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ f{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharbraceleft}{\kern0pt}second{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ banach{\isacharcomma}{\kern0pt}\ linorder{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ ordered{\isacharunderscore}{\kern0pt}real{\isacharunderscore}{\kern0pt}vector{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}integrable\ M\ f{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}{\kern0pt}\ A\ {\isasymin}\ sets\ M\ {\isasymLongrightarrow}\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ M\ A\ f\ {\isasymge}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isasymge}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ averaging{\isacharunderscore}{\kern0pt}theorem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ OF\ closed{\isacharunderscore}{\kern0pt}atLeast{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ scaleR{\isacharunderscore}{\kern0pt}nonneg{\isacharunderscore}{\kern0pt}nonneg{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ integral{\isacharunderscore}{\kern0pt}nonneg{\isacharunderscore}{\kern0pt}AE{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}AE{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ f\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}second{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ banach{\isacharcomma}{\kern0pt}\ linorder{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ ordered{\isacharunderscore}{\kern0pt}real{\isacharunderscore}{\kern0pt}vector{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharbrackleft}{\kern0pt}measurable{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}integrable\ M\ f{\isachardoublequoteclose}\ \isakeyword{and}\ nonneg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isasymle}\ f\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}integral\isactrlsup L\ M\ f\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}integral\isactrlsup L\ M\ f\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ \isacommand{assume}\isamarkupfalse%
\ asm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ integral\isactrlsup L\ M\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ indicator\ A\ x\ {\isacharasterisk}{\kern0pt}\isactrlsub R\ f\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nonneg\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ integral{\isacharunderscore}{\kern0pt}zero{\isacharbrackleft}{\kern0pt}of\ M{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ intro\ integral{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}AE{\isacharunderscore}{\kern0pt}banach\ integrable{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}indicator\ asm\ f\ integrable{\isacharunderscore}{\kern0pt}zero{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ indicator{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ integral\isactrlsup L\ M\ f{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ nonneg\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ integral{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}AE{\isacharunderscore}{\kern0pt}banach\ integrable{\isacharunderscore}{\kern0pt}mult{\isacharunderscore}{\kern0pt}indicator\ asm\ f{\isacharcomma}{\kern0pt}\ auto\ simp\ add{\isacharcolon}{\kern0pt}\ indicator{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral\ M\ A\ f\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}lebesgue{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ {\isacharasterisk}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ density{\isacharunderscore}{\kern0pt}zero\ f{\isacharcomma}{\kern0pt}\ blast{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ integral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}AE{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ integral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}AE{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}AE{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ f\ g\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}b\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}second{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ banach{\isacharcomma}{\kern0pt}\ linorder{\isacharunderscore}{\kern0pt}topology{\isacharcomma}{\kern0pt}\ ordered{\isacharunderscore}{\kern0pt}real{\isacharunderscore}{\kern0pt}vector{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}integrable\ M\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}integrable\ M\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}integral\isactrlsup L\ M\ f\ {\isacharequal}{\kern0pt}\ integral\isactrlsup L\ M\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isasymle}\ g\ x{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ f\ x\ {\isacharequal}{\kern0pt}\ g\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ h\ \isakeyword{where}\ {\isachardoublequoteopen}h\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ g\ x\ {\isacharminus}{\kern0pt}\ f\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}AE\ x\ in\ M{\isachardot}{\kern0pt}\ h\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ integral{\isacharunderscore}{\kern0pt}nonneg{\isacharunderscore}{\kern0pt}AE{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}AE{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Sigma_Finite_Measure_Addendum.tex%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%27=5%:%
%:%37=8%:%
%:%38=8%:%
%:%39=9%:%
%:%40=10%:%
%:%41=11%:%
%:%42=12%:%
%:%49=13%:%
%:%50=13%:%
%:%51=14%:%
%:%52=14%:%
%:%53=14%:%
%:%54=14%:%
%:%55=15%:%
%:%56=15%:%
%:%57=16%:%
%:%58=16%:%
%:%59=17%:%
%:%60=17%:%
%:%61=17%:%
%:%62=18%:%
%:%63=18%:%
%:%64=18%:%
%:%65=18%:%
%:%66=19%:%
%:%67=19%:%
%:%68=19%:%
%:%69=19%:%
%:%70=20%:%
%:%71=20%:%
%:%72=20%:%
%:%73=20%:%
%:%74=20%:%
%:%75=21%:%
%:%76=22%:%
%:%77=22%:%
%:%78=22%:%
%:%79=22%:%
%:%80=23%:%
%:%81=23%:%
%:%82=23%:%
%:%83=23%:%
%:%84=24%:%
%:%85=24%:%
%:%86=24%:%
%:%87=24%:%
%:%88=24%:%
%:%89=25%:%
%:%90=25%:%
%:%91=25%:%
%:%92=25%:%
%:%93=25%:%
%:%94=26%:%
%:%95=26%:%
%:%96=27%:%
%:%97=27%:%
%:%98=27%:%
%:%99=27%:%
%:%100=28%:%
%:%106=28%:%
%:%109=29%:%
%:%110=30%:%
%:%111=30%:%
%:%112=31%:%
%:%113=32%:%
%:%114=33%:%
%:%115=33%:%
%:%116=34%:%
%:%121=39%:%
%:%122=40%:%
%:%123=41%:%
%:%130=42%:%
%:%131=42%:%
%:%132=43%:%
%:%133=43%:%
%:%134=43%:%
%:%135=43%:%
%:%136=44%:%
%:%137=45%:%
%:%138=45%:%
%:%139=45%:%
%:%140=45%:%
%:%141=46%:%
%:%142=46%:%
%:%143=47%:%
%:%144=47%:%
%:%145=47%:%
%:%146=47%:%
%:%147=48%:%
%:%148=48%:%
%:%149=49%:%
%:%150=49%:%
%:%151=50%:%
%:%152=50%:%
%:%153=50%:%
%:%154=51%:%
%:%155=51%:%
%:%156=51%:%
%:%157=51%:%
%:%158=52%:%
%:%159=52%:%
%:%160=53%:%
%:%161=53%:%
%:%162=54%:%
%:%163=54%:%
%:%164=55%:%
%:%165=55%:%
%:%166=56%:%
%:%167=56%:%
%:%168=56%:%
%:%169=56%:%
%:%170=57%:%
%:%171=57%:%
%:%172=57%:%
%:%173=57%:%
%:%174=58%:%
%:%175=58%:%
%:%176=58%:%
%:%177=59%:%
%:%178=59%:%
%:%179=60%:%
%:%180=60%:%
%:%181=60%:%
%:%182=61%:%
%:%183=61%:%
%:%184=61%:%
%:%185=61%:%
%:%186=61%:%
%:%187=62%:%
%:%188=62%:%
%:%189=62%:%
%:%190=62%:%
%:%191=63%:%
%:%197=63%:%
%:%200=64%:%
%:%201=65%:%
%:%202=66%:%
%:%203=66%:%
%:%204=67%:%
%:%205=68%:%
%:%206=69%:%
%:%207=70%:%
%:%208=71%:%
%:%215=72%:%
%:%216=72%:%
%:%217=73%:%
%:%218=73%:%
%:%219=74%:%
%:%220=75%:%
%:%221=75%:%
%:%222=75%:%
%:%223=76%:%
%:%224=77%:%
%:%225=77%:%
%:%226=77%:%
%:%227=77%:%
%:%228=78%:%
%:%229=78%:%
%:%230=79%:%
%:%231=79%:%
%:%232=80%:%
%:%233=80%:%
%:%234=80%:%
%:%235=80%:%
%:%236=81%:%
%:%237=81%:%
%:%238=81%:%
%:%239=82%:%
%:%240=82%:%
%:%241=82%:%
%:%242=82%:%
%:%243=83%:%
%:%244=83%:%
%:%245=83%:%
%:%246=83%:%
%:%247=83%:%
%:%248=84%:%
%:%249=84%:%
%:%250=84%:%
%:%251=84%:%
%:%252=84%:%
%:%253=85%:%
%:%254=85%:%
%:%255=86%:%
%:%256=87%:%
%:%257=87%:%
%:%258=87%:%
%:%259=87%:%
%:%260=88%:%
%:%261=88%:%
%:%262=88%:%
%:%263=88%:%
%:%264=89%:%
%:%265=90%:%
%:%266=90%:%
%:%267=90%:%
%:%268=90%:%
%:%269=91%:%
%:%270=91%:%
%:%271=91%:%
%:%272=91%:%
%:%273=92%:%
%:%274=93%:%
%:%275=93%:%
%:%276=94%:%
%:%277=94%:%
%:%278=94%:%
%:%279=95%:%
%:%280=95%:%
%:%281=95%:%
%:%282=95%:%
%:%283=96%:%
%:%284=96%:%
%:%285=96%:%
%:%286=96%:%
%:%287=96%:%
%:%288=97%:%
%:%289=97%:%
%:%290=97%:%
%:%291=97%:%
%:%292=98%:%
%:%293=99%:%
%:%294=99%:%
%:%295=100%:%
%:%296=100%:%
%:%297=100%:%
%:%298=101%:%
%:%299=101%:%
%:%300=102%:%
%:%301=102%:%
%:%302=102%:%
%:%303=102%:%
%:%304=102%:%
%:%305=103%:%
%:%306=103%:%
%:%307=103%:%
%:%308=104%:%
%:%309=104%:%
%:%310=104%:%
%:%311=104%:%
%:%312=105%:%
%:%313=105%:%
%:%314=106%:%
%:%315=106%:%
%:%316=107%:%
%:%317=107%:%
%:%318=108%:%
%:%319=108%:%
%:%320=109%:%
%:%321=109%:%
%:%322=109%:%
%:%323=109%:%
%:%324=110%:%
%:%325=110%:%
%:%326=110%:%
%:%327=110%:%
%:%328=111%:%
%:%329=111%:%
%:%330=111%:%
%:%331=111%:%
%:%332=111%:%
%:%333=112%:%
%:%334=112%:%
%:%335=112%:%
%:%336=112%:%
%:%337=112%:%
%:%338=113%:%
%:%339=113%:%
%:%340=113%:%
%:%341=114%:%
%:%342=114%:%
%:%343=115%:%
%:%344=115%:%
%:%345=116%:%
%:%346=116%:%
%:%347=117%:%
%:%348=118%:%
%:%349=118%:%
%:%350=118%:%
%:%351=118%:%
%:%352=118%:%
%:%353=119%:%
%:%354=119%:%
%:%355=119%:%
%:%356=119%:%
%:%357=120%:%
%:%358=120%:%
%:%359=120%:%
%:%360=120%:%
%:%361=121%:%
%:%362=121%:%
%:%363=122%:%
%:%364=122%:%
%:%365=122%:%
%:%366=123%:%
%:%367=123%:%
%:%368=124%:%
%:%369=124%:%
%:%370=125%:%
%:%371=125%:%
%:%372=126%:%
%:%373=126%:%
%:%374=127%:%
%:%375=127%:%
%:%376=127%:%
%:%377=128%:%
%:%378=128%:%
%:%379=128%:%
%:%380=128%:%
%:%381=129%:%
%:%382=129%:%
%:%383=130%:%
%:%384=130%:%
%:%385=131%:%
%:%386=131%:%
%:%387=131%:%
%:%388=132%:%
%:%389=132%:%
%:%390=132%:%
%:%391=132%:%
%:%392=133%:%
%:%393=133%:%
%:%394=133%:%
%:%395=133%:%
%:%396=134%:%
%:%397=134%:%
%:%398=134%:%
%:%399=134%:%
%:%400=134%:%
%:%401=135%:%
%:%402=135%:%
%:%403=135%:%
%:%404=135%:%
%:%405=136%:%
%:%406=136%:%
%:%407=136%:%
%:%408=137%:%
%:%409=137%:%
%:%414=137%:%
%:%417=138%:%
%:%418=139%:%
%:%419=139%:%
%:%420=140%:%
%:%421=141%:%
%:%422=142%:%
%:%423=143%:%
%:%426=144%:%
%:%430=144%:%
%:%431=144%:%
%:%432=145%:%
%:%433=145%:%
%:%438=145%:%
%:%441=146%:%
%:%442=147%:%
%:%443=147%:%
%:%444=148%:%
%:%445=149%:%
%:%446=150%:%
%:%447=151%:%
%:%454=152%:%
%:%455=152%:%
%:%456=153%:%
%:%457=153%:%
%:%458=154%:%
%:%459=154%:%
%:%460=154%:%
%:%461=155%:%
%:%462=155%:%
%:%463=155%:%
%:%464=155%:%
%:%465=156%:%
%:%466=156%:%
%:%467=157%:%
%:%468=157%:%
%:%469=157%:%
%:%470=157%:%
%:%471=158%:%
%:%477=158%:%
%:%480=159%:%
%:%481=160%:%
%:%482=160%:%
%:%483=161%:%
%:%484=162%:%
%:%485=163%:%
%:%486=164%:%
%:%489=165%:%
%:%493=165%:%
%:%494=165%:%
%:%495=166%:%
%:%496=166%:%
%:%501=166%:%
%:%504=167%:%
%:%505=168%:%
%:%506=168%:%
%:%507=169%:%
%:%508=170%:%
%:%509=171%:%
%:%516=172%:%
%:%517=172%:%
%:%518=173%:%
%:%519=173%:%
%:%520=174%:%
%:%521=174%:%
%:%522=175%:%
%:%523=175%:%
%:%524=175%:%
%:%525=176%:%
%:%526=176%:%
%:%527=176%:%
%:%528=176%:%
%:%529=177%:%
%:%530=177%:%
%:%531=177%:%
%:%532=177%:%
%:%533=177%:%
%:%534=178%:%
%:%535=178%:%
%:%536=178%:%
%:%537=178%:%
%:%538=178%:%
%:%539=178%:%
%:%540=179%:%
%:%541=179%:%
%:%542=180%:%
%:%543=180%:%
%:%544=180%:%
%:%545=181%:%
%:%546=181%:%
%:%551=181%:%
%:%554=182%:%
%:%555=183%:%
%:%556=183%:%
%:%557=184%:%
%:%558=185%:%
%:%559=186%:%
%:%566=187%:%
%:%567=187%:%
%:%568=188%:%
%:%569=188%:%
%:%570=189%:%
%:%571=189%:%
%:%572=189%:%
%:%573=189%:%
%:%574=189%:%
%:%575=190%:%
%:%576=190%:%
%:%577=190%:%
%:%578=190%:%
%:%579=190%:%
%:%580=191%:%
%:%586=191%:%
%:%589=192%:%
%:%590=193%:%
%:%591=193%:%
%:%594=194%:%
%:%599=195%:%
